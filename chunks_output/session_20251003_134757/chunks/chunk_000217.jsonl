{"chunk_index":"9","content":"RANK`, `r.RANK`, `r.SHORT_NAME_FCT`|when `d.ASSIGNED_RANK` = `r.RANK` then `r.SHORT_NAME_FCT`| |crewRank| | |N/A in the source system.| |legId|**Duty Based Data:** `XCREW.DUTY d`, `SCHEDOPS.LEG l`<br>**Duty Item Based Data:** `XCREW.ITEM_DAILY d`, `SCHEDOPS.LEG l`|`d.EXTERNAL_ID`, `d.FLIGHT_NO`, `d.AIRLINE`, `d.DAY_OF_ORIGIN`, `d.SUFFIX`, `d.AIRPORT_C_IS_DEP`, `l.FN_NUMBER`, `l.FN_CARRIER`, `l.DAY_OF_ORIGIN`, `l.FN_SUFFIX`, `l.DEP_AP_SCHED`, `l.LEG_STATE`, `l.LEG_NO`|**Duty Based Data:** when `d.FLIGHT_NO` = `l.FN_NUMBER` and `d.AIRLINE` = `l.FN_CARRIER` and `d.DAY_OF_ORIGIN` = `l.DAY_OF_ORIGIN` and `d.SUFFIX` = `l.FN_SUFFIX` and `d.AIRPORT_C_IS_DEP` = `l.DEP_AP_SCHED` and `l.LEG_STATE` is not (“CNL“ and “DEL“) then `l.LEG_NO`<br>**Duty Item Based Data:** when `d.EXTERNAL_ID` <> \"0\" then `d.EXTERNAL_ID` else `d.FLIGHT_NO` = `l.FN_NUMBER` and `d.AIRLINE` = `l.FN_CARRIER` and `d.DAY_OF_ORIGIN` = `l.DAY_OF_ORIGIN` and `d.SUFFIX` = `l.FN_SUFFIX` and `d.AIRPORT_C_IS_DEP` = `l.DEP_AP_SCHED` and `l.LEG_STATE` is not (“CNL“ and “DEL“) then `l.LEG_NO`| |dutyType|**Duty Item Based Data:** `XCREW.ITEM_DAILY`|**Duty Item Based Data:** `TYPE`|**Duty Based Data:** The field is set to \"DH\" in the query.<br>**Duty Item Based Data:** when `TYPE` = \"L\" then \"AC\" else \"DH\".| # Flight Delay Data Model ### Data Retrieval #### - Data Retrieval Scope **Operational Delay:** Retrieve records where `schedops.LEG_DELAY.ENTRY_DT` >= Last Data Retrieval Date and `schedops.LEG_DELAY.TYPE` = “U“ and `schedops.LEG_DELAY.USAGE` = “M“ **Scheduled Delay:** Retrieves newly published events from the relevant EventHub topic. #### - Source Query **Operational Delay:** `Riverx_FlightDelay_Query` **Scheduled Delay:** `Riverx_ISKDelay_Query` #### - Source Event Broker Topic **Scheduled Delay:** `flightdelayisk`: `com.riverx.topic.in.flight.flightdelayisk.source` #### - Data Retrieval Trigger & Steps **Trigger:** * **Operational Delay:** Every minute * **Scheduled Delay:** Each new event published to the top","fm:title":"Flight Data Models description: published: true date: 2025-09-17T08:21:41.502Z tags: editor: markdown dateCreated: 2024-09-05T12:25:02.351Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=9|o=16200","length":"2000","offset":"16200","repo_branch":"main","repo_path":"river-x/source-mapping/flight-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
