{"chunk_index":"6","content":"C“ or “J“ or “O“) and * `schedops.LEG.LEG_STATE` <> (“CNL“ or “DEL“ or “INC“) #### - Source Service * `FlightManifest` * WSDL: `https://iflyresapi.ibsgen.com/iRes_Booking_WS/services/FlightPort` * Method: `retrieveFlightManifest` #### - Source Query * `Riverx_FlightLegForPaxSchedule_Query` #### - Data Retrieval Trigger & Steps * Trigger: Every 5 minutes * Steps: * Execute `Riverx_FlightLegForPaxSchedule_Query` query * Call `FlightManifest` service using the fields coming from `Riverx_FlightLegForPaxSchedule_Query` query result #### - Change Data Capture Operation * Unique Key: `flightLegId` * Delete all data for the specific `flightLegId` and insert the data coming from `Riverx_FlightLegForPaxSchedule_Query` query and `FlightManifest` service for the same `flightLegId` ### Mapping |Model Attribute|Source Table|Source Service|Source Field|Detail| |:----|:----|:----|:----|:----| |extraInfo| | | | | |flightLegId|`schedops.LEG`| |`LEG_NO`| | |numberOfPax| | | |Count pax grouped by `<CheckinStatus>` and `<PaxType>`| |paxStatus| |`FlightManifest`|`<CheckinStatus>`|Group by `<CheckinStatus>`| |paxType| |`FlightManifest`|`<PaxType>`|Group by `<PaxType>`| # :paperclip: PNR Data Retrieval (NEW Release) #### - Data Retrieval Scope **Retrieving PNR Changes:** Retrieve modified PNRs (Operated by SXS Internal Systems) **Migrating Flights' PNRs:** Retrieve related flights' PNRs #### - Source Service **Retrieving PNR:** `NDCOrderRetrieve` (Operated by SXS Internal Systems) **Migrating Flights' PNRs:** `FlightManifest`, `NDCOrderRetrieve` #### - Source Query **Migrating Flights' PNRs:** `Riverx_PNRMigration_Query` #### - Data Retrieval Trigger & Steps **Trigger:** * **Retrieving PNR:** - (Operated by SXS Internal Systems) * **Migrating Flights' PNRs:** Executes manually **Steps:** * **Retrieving PNR:** - (Operated by SXS Internal Systems) * **Migrating Flights' PNRs:** * Execute `Riverx_PNRMigration_Query` query * Call `FlightManifest` service using the fields coming from `Riverx_PN","fm:title":"Passenger Data Models description: published: true date: 2025-05-09T09:26:22.878Z tags: editor: markdown dateCreated: 2024-09-05T12:35:07.136Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=6|o=10800","length":"2000","offset":"10800","repo_branch":"main","repo_path":"river-x/source-mapping/passenger-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
