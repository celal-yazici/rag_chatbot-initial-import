{"chunk_index":"7","content":"etrieving PNR:** - (Operated by SXS Internal Systems) * **Migrating Flights' PNRs:** * Execute `Riverx_PNRMigration_Query` query * Call `FlightManifest` service using the fields coming from `Riverx_PNRMigration_Query` query result * Call `NDCOrderRetrieve` service using the PNRs coming from `FlightManifest` service response #### - Data Handling Operation **Retrieving PNR:** - (Operated by SXS Internal Systems) * Publish the `NDCOrderRetrieve` service response with pnr and pnrCreationDate to the `com.riverx.topic.in.commercial.pnrretrieve.handler` topic. * SXS Internal Systems retrieve `pnr` and `pnrCreationDate` from the PNR Queue Service. * When the `NDCOrderRetrieve` service response exceeds 1 megabyte, compress the event value using gzip, encode it in Base64 format, and set the event header's `content-type` attribute to “application/gzip”. **Integrator:** * **Migrating Flights' PNRs:** * Publish the `NDCOrderRetrieve` service response with `pnr` and `pnrCreationDate` to the `com.riverx.topic.in.commercial.pnrretrieve.handler` topic. * Assign `pnr` to the `<ManifestDetails>.<PNRManifestDetails>.<PNRNumber>` element in the `FlightManifest` response. * Assign `pnrCreationDate` to the `<ManifestDetails>.<PNRManifestDetails>.<TimeStamp>` element in the `FlightManifest` response. * When the `NDCOrderRetrieve` service response exceeds 1 megabyte, compress the event value using gzip, encode it in Base64 format, and set the event header's `content-type` attribute to “application/gzip”. # Flight PAX Info Data Model (NEW Release) ### Data Retrieval > For PNR messages received in the `com.riverx.topic.in.commercial.pnrretrieve.handler` EventHub Topic, refer to :paperclip: PNR Data Retrieval. {.is-info} #### - Data Retrieval Scope * Retrieve newly published events from the relevant EventHub topic. #### - Source Event Broker Topic * `pnrretrieve`: `com.riverx.topic.in.commercial.pnrretrieve.handler` #### - Data Retrieval Trigger & Steps **Trigger:** Each new event published to","fm:title":"Passenger Data Models description: published: true date: 2025-05-09T09:26:22.878Z tags: editor: markdown dateCreated: 2024-09-05T12:35:07.136Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=7|o=12600","length":"2000","offset":"12600","repo_branch":"main","repo_path":"river-x/source-mapping/passenger-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
