{"chunk_index":"0","content":"--- title: Electronic Flight Bag Data Models description: published: true date: 2025-09-19T16:08:36.339Z tags: editor: markdown dateCreated: 2025-07-25T10:29:10.471Z --- # Flight Bag Plan Info Data Model ### Data Retrieval #### - Data Retrieval Scope * Consumes newly published events delivered via the EFB Node Skybook Event request. #### - Source Service * `RiverXEFBNodeSkybookEvent` * URL: `POST https://.../v1/data-handler/efb/skybook-events` #### - Data Retrieval Trigger & Steps **Trigger:** * Initiated with each incoming service request. **Steps:** * EFB Node Skybook Event service calls `RiverXEFBNodeSkybookEvent` service. #### - Data Handling Operation * Retrieves data from the service request. * When the eventType is one of the following: * “sector - sector accepted” * “sector - sector closed” * “voyage - voyage accepted” * “voyage - voyage closed” * “voyage - voyage downloaded” * Then processes the retrieved data as Flight Bag Plan Info. - The flightId is retrieved from the RiverX Flight Leg Data Model according to the following conditions * First two characters of `flight.number` = Flight Leg Data Model `carrier` - From the third character of the `flight.number` = Flight Leg Data Model `flightNumber` - `flight.registration`= Flight Leg Data Model `acRegNo` - Flight Leg Data Model `scheduledTakeOffTime` - 3 hour <= `flight.std` <= Flight Leg Data Model `scheduledTakeOffTime` + 3 hour - Flight Leg Data Model `statusCode` <> “CNL“ and “DEL“ - When there are multiple records corresponding to these conditions, any one of those records is selected. * Based on the retrieved data, generates an \"IN\" event according to the mapping rules(see Mapping for details). * Publishes the generated \"IN\" event to the topic: `com.riverx.topic.in.flight.flightbagplaninfo`. #### - Change Data Capture Operation * Consumes the events from the `com.riverx.topic.in.flight.flightbagplaninfo` topic. * Unique Key: `flightId`. * Insert: If no record exists in the Flight Bag Plan Info Data Mo","fm:title":"Electronic Flight Bag Data Models description: published: true date: 2025-09-19T16:08:36.339Z tags: editor: markdown dateCreated: 2025-07-25T10:29:10.471Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=0|o=0","length":"2000","offset":"0","repo_branch":"main","repo_path":"river-x/source-mapping/electronic-flight-bag-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
