{"chunk_index":"22","content":"king Layover:** Execute `Riverx_MLOG$_HOTEL_RESERVATION_Query` query. * **Hotel Info:** Execute `Riverx_HotelInfo_Query` query. #### - Data Handling Operation **Tracking Layover:** * Crew Layover data is sorted based on `XCREW.MLOG$_HOTEL_RESERVATION.SEQUENCE$$` field to ensure that it is the same as the processing order in the source system. * `rosterId` is retrieved from Crew Roster using `XCREW.MLOG$_HOTEL_RESERVATION.RESERVATION_DATE` field. #### - Change Data Capture Operation **Tracking Layover:** * Unique Key: A composite key, combining `XCREW.MLOG$_HOTEL_RESERVATION.TLC`, `XCREW.MLOG$_HOTEL_RESERVATION.RESERVATION_DATE`, `XCREW.MLOG$_HOTEL_RESERVATION.AIRPORT_CODE`, `XCREW.MLOG$_HOTEL_RESERVATION.COUNTER_PER_DAY`, `XCREW.MLOG$_HOTEL_RESERVATION.CHAIN_DAILY_UNO`, `XCREW.MLOG$_HOTEL_RESERVATION.ASSIGNED_RANK` and `XCREW.MLOG$_HOTEL_RESERVATION.RANK_SEQUENCE_NO` fields. * Insert and update operations are carried out using Unique Key. * No delete operation is performed; instead, `status`(see Mapping for details) is updated based on the retrieved data. **Hotel Info:** * Unique Key: `XCREW.HOTEL.ID` * Insert and update operations are carried out using `XCREW.HOTEL.ID`. * No delete operation is performed, as the source system does not delete Hotel Info records. ### Mapping |Model Attribute|Source Table|Source Field|Detail| |:----|:----|:----|:----| |extraInfo|`XCREW.HOTEL`|`REMARK`| | |rosterId| | |Data Handling Operation| |tripId| | |N/A in the source system.| |dutyId| | |N/A in the source system.| |crewId|`XCREW.MLOG$_HOTEL_RESERVATION`|`TLC`| | |hotelId|`XCREW.MLOG$_HOTEL_RESERVATION`|`HOTEL_ID`| | |startDate|`XCREW.MLOG$_HOTEL_RESERVATION`|`RESERVATION_DATE`, `PREV_DTY_END_TIME`|`RESERVATION_DATE` + `PREV_DTY_END_TIME`| |endDate|`XCREW.MLOG$_HOTEL_RESERVATION`|`NEXT_DTY_BEG_DATE`, `NEXT_DTY_BEG_TIME`|`NEXT_DTY_BEG_DATE` + `NEXT_DTY_BEG_TIME`| |startDateLocal| | |N/A in the source system.| |endDateLocal| | |N/A in the source system.| |departureFlightLegId| | |N/","fm:title":"Crew Data Models description: published: true date: 2025-10-01T18:21:12.714Z tags: editor: markdown dateCreated: 2024-09-05T12:23:15.052Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=22|o=39600","length":"2000","offset":"39600","repo_branch":"main","repo_path":"river-x/source-mapping/crew-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
