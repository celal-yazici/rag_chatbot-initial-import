{"chunk_index":"9","content":" elements. * Ticket Number is assigned to Flight Pax Info records through the `<TicketDocInfos>` elements. * Events are generated for the all of the Flight Pax Info records and published to `com.riverx.topic.in.ground.flightpaxinfo` topic. * The Flight Pax Info records generated through the `pnrretrieve` event are compared with the existing Flight Pax Info records in the RiverX Flight Pax Info Data Model. The `orderStatus` attributes of the records found in the RiverX Flight Pax Info Data Model but not in the generated Flight Pax Info are set to \"CANCELLED\". #### - Change Data Capture Operation * Unique Key: A composite key combining `pnr`, `pnrCreationDate`, `paxReferenceId` and `segmentReferenceId` fields. * Insert and update operations are carried out using Unique Key. * No delete operation is performed; instead, `orderStatus`(see Mapping for details) is updated based on the retrieved data. ### Mapping |Model Attribute|Source Topic|Source Field|Detail| |:--------------|:-----------|:-----------|:----| |extraInfo| | | | |pnr|`pnrretrieve`|`<OrderViewRS>.<Response>.<Order OrderID=\"###\"...>`| | |pnrCreationDate|`pnrretrieve`|`pnrCreationDate`| | |pnrStatus|`pnrretrieve`|`<OrderViewRS>.<Response>.<Order>.<Status>.<StatusCode>`|When `<StatusCode>` = “OK“ then “ACTIVE“, else “CANCELLED“| |flightPaxInfoOrderId| | |Data Handling Operation| |orderStatus| | |Data Handling Operation| |tourOperatorCode|`pnrretrieve`|`<OrderViewRS>.<Response>.<Order>.<BookingReferences>.<BookingReference>.<OtherID>`| | |tourOperatorReferenceCode|`pnrretrieve`|`<OrderViewRS>.<Response>.<Order>.<BookingReferences>.<BookingReference>.<ID>`| | |paxReferenceId|`pnrretrieve`|`<OrderViewRS>.<Response>.<Order>.<OrderItems>.<Service>.<PassengerRef>`| | |forenames|`pnrretrieve`|`<OrderViewRS>.<Response>.<DataLists>.<PassengerList>.<Passenger>.<Individual>.<GivenName>`, <br>`<OrderViewRS>.<Response>.<DataLists>.<PassengerList>.<Passenger>.<Individual>.<MiddleName>`|`<GivenName>`+” “+`<MiddleName>`| |sur","fm:title":"Passenger Data Models description: published: true date: 2025-05-09T09:26:22.878Z tags: editor: markdown dateCreated: 2024-09-05T12:35:07.136Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=9|o=16200","length":"2000","offset":"16200","repo_branch":"main","repo_path":"river-x/source-mapping/passenger-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
