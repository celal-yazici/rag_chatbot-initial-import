{"chunk_index":"25","content":"then `XCREW.RANK.LONG_NAME_FCT`| |status|`XCREW.MLOG$_DUTY`|`DMLTYPE$$`, `OLD_NEW$$`|when `XCREW.MLOG$_DUTY.DMLTYPE$$` = “D“<br>or (`XCREW.MLOG$_DUTY.DMLTYPE$$` = “U“ and `XCREW.MLOG$_DUTY.OLD_NEW$$` = “U“)<br>then “CANCELLED“ else “ACTIVE“| |trainingCrewAssignmentId| | |N/A in the source system.| |trainingId| | |N/A in the source system.| |trainingCode| | |N/A in the source system.| |instructorName| | |N/A in the source system.| |trainingRole| | |N/A in the source system.| |trainingVenue| | |N/A in the source system.| # Crew Roster Notices Data Model ### Data Retrieval #### - Data Retrieval Scope * Notice MLOG Insert&Delete Records: * Retrieve records where `XCREW.MLOG$_REMARK.SEQUENCE$$` > Sequence of the Latest Retrieved Data and `XCREW.MLOG$_REMARK.DMLTYPE$$` <> “U” and `XCREW.MLOG$_REMARK.TYPE` <> (“I” or ”P”) and `XCREW.MLOG$_REMARK.DATE_` >= “01.01.2024“. * Notice MLOG Update Records: * Retrieve records where `XCREW.MLOG$_REMARK.SEQUENCE$$` > Sequence of the Latest Retrieved Data and `XCREW.MLOG$_REMARK.DMLTYPE$$` = “U” and `XCREW.MLOG$_REMARK.OLD_NEW$$` = “N” and `XCREW.MLOG$_REMARK.TYPE` <> (“I” or ”P”) and `XCREW.MLOG$_REMARK.DATE_` >= “01.01.2024“. * Group these records by `XCREW.MLOG$_REMARK.TLC`, `XCREW.MLOG$_REMARK.DATE_`, `XCREW.MLOG$_REMARK.TYPE`. * Retrieve Max(`XCREW.MLOG$_REMARK.SEQUENCE$$`) within each group. #### - Source Query * `Riverx_MLOG$_REMARK_Query` #### - Data Retrieval Trigger & Steps **Trigger:** Every 2 minutes **Steps:** Execute `Riverx_MLOG$_REMARK_Query` query. #### - Data Handling Operation * Crew Roster Notices data is sorted based on `XCREW.MLOG$_REMARK.SEQUENCE$$` field to ensure that it is the same as the processing order in the source system. #### - Change Data Capture Operation * Unique Key: A composite key, combining `XCREW.MLOG$_REMARK.TLC`, `XCREW.MLOG$_REMARK.TYPE` and `XCREW.MLOG$_REMARK.DATE_` fields. * Insert and update operations are carried out using Unique Key. * No delete operation is performed; instead, `status`","fm:title":"Crew Data Models description: published: true date: 2025-10-01T18:21:12.714Z tags: editor: markdown dateCreated: 2024-09-05T12:23:15.052Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=25|o=45000","length":"2000","offset":"45000","repo_branch":"main","repo_path":"river-x/source-mapping/crew-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
