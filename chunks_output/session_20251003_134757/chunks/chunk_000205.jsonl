{"chunk_index":"1","content":" Data Capture Operation * Consumes the events from the `com.riverx.topic.in.flight.flightbagplaninfo` topic. * Unique Key: `flightId`. * Insert: If no record exists in the Flight Bag Plan Info Data Model with the matching `flightId`, inserts a new record. * Update: Founds the existing record in the Flight Bag Plan Info Data Model with the matching `flightId` and updates the record. * Delete: No delete operation is performed, as the source system does not delete Flight Bag Plan Info records. ### Mapping |Model Attribute|Source Service|Source Field|Detail| |:----|:----|:----|:----|:----| |flightId|`RiverXEFBNodeSkybookEvent` |`flight.number`, `flight.registration`, `flight.std` | Data Handling Operation | |sectorId|`RiverXEFBNodeSkybookEvent` |`fileData.data.sectorId`|| |efbCaptainUsername|`RiverXEFBNodeSkybookEvent` |`fileData.data.userName` | | |eventType|`RiverXEFBNodeSkybookEvent`|`fileData.data.eventType`|| |cycleId|`RiverXEFBNodeSkybookEvent`|`fileData.data.voyageId`| | |eventDate|`RiverXEFBNodeSkybookEvent`|`fileData.data.timestamp`| | |eventProcessedDate|`RiverXEFBNodeSkybookEvent`|`fileData.data.processedAt`| | |ofpNumber|`RiverXEFBNodeSkybookEvent`|`fileData.data.planNo`| | |extraInfo|`RiverXEFBNodeSkybookEvent`|`fileData.data.planNo`| | # Flight Bag Fuel Data Model ### Data Retrieval #### - Data Retrieval Scope * Consumes newly published events delivered via the EFB Node Skybook Event request. #### - Source Service * `RiverXEFBNodeSkybookEvent` * URL: `POST https://.../v1/data-handler/efb/skybook-events` #### - Data Retrieval Trigger & Steps **Trigger:** * Initiated with each incoming service request. **Steps:** * EFB Node Skybook Event service calls `RiverXEFBNodeSkybookEvent` service. #### - Data Handling Operation * Retrieves data from the service request. * When the eventType is one of the following: * “\"sector - sector fuel_order\"” * Then processes the retrieved data as Flight Bag Fuel. - The flightId is retrieved from the RiverX Flight Leg Data Model ","fm:title":"Electronic Flight Bag Data Models description: published: true date: 2025-09-19T16:08:36.339Z tags: editor: markdown dateCreated: 2025-07-25T10:29:10.471Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=1|o=1800","length":"2000","offset":"1800","repo_branch":"main","repo_path":"river-x/source-mapping/electronic-flight-bag-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
