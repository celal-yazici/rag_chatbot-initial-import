{"chunk_index":"8","content":"nt EventHub topic. #### - Source Event Broker Topic * `pnrretrieve`: `com.riverx.topic.in.commercial.pnrretrieve.handler` #### - Data Retrieval Trigger & Steps **Trigger:** Each new event published to the topic **Steps:** Retrieve events #### - Data Handling Operation * When the event header's `content-type` attribute is “application/gzip”, decode the event value from Base64 format and decompress it. * Flight Pax Info records are generated through the `<OrderItems>` elements, which define the relationship between the flight segments and the passengers. * PNR information is assigned to Flight Pax Info records through the `<Order>` and `<Order>.<Status>` elements. * The `flightPaxInfoOrderId` attribute of the Flight Pax Info record is set to a combination of the `pnr`, `pnrCreationDate`, `paxReferenceId` and `segmentReferenceId` attributes(see Mapping for details). * The `orderStatus` attribute of the Flight Pax Info record is set to the `pnrStatus`(see Mapping for details). * Tour operator details are assigned to Flight Pax Info records through the `<BookingReferences>` element. * Passenger details are assigned to Flight Pax Info records through the `<PassengerList>` element. * Flight segment details are assigned to Flight Pax Info records through the `<FlightSegmentList>` element. * `flightId` attribute of the Flight Pax Info record is set to a combination of `udorLocal`, `carrier` and `flightNumber` attributes(see Mapping for details). * `pnrFlightId` attribute of the Flight Pax Info record is set to a combination of `pnr` and `flightId` attributes(see Mapping for details). * Cabin Class and Fare Basis details are assigned to Flight Pax Info records through the `<PriceClassList>` element. * Seat details are assigned to Flight Pax Info records through the `<OrderItems>` elements. * Ticket Number is assigned to Flight Pax Info records through the `<TicketDocInfos>` elements. * Events are generated for the all of the Flight Pax Info records and published to `com.river","fm:title":"Passenger Data Models description: published: true date: 2025-05-09T09:26:22.878Z tags: editor: markdown dateCreated: 2024-09-05T12:35:07.136Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=8|o=14400","length":"2000","offset":"14400","repo_branch":"main","repo_path":"river-x/source-mapping/passenger-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
