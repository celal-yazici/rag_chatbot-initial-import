{"chunk_index":"0","content":"--- title: Ground Handling Data Models description: published: true date: 2025-10-01T10:09:32.571Z tags: editor: markdown dateCreated: 2024-09-05T12:40:04.853Z --- # Turnaround Data Model ### Data Retrieval #### - Data Retrieval Scope * Schiphol: Retrieve newly published events * AHS: Retrieve records where the attribute `last_change_time` of `Turnaround AHS API` >= Last Retrieval Date #### - Source Server-sent Event * Schiphol: `Turnaround Insights API` * URL: `https://api.schiphol.nl/turnaround-insights/eventstream` #### - Source Service * AHS: `Turnaround AHS API` * URL: `https://aes-api-ahs.epg.com/api/tasks?last_change_time=gte.${Last Retrieval Date}` #### - Data Retrieval Trigger & Steps * Trigger: * Schiphol: Each new event published * AHS: Every minute between 05:00(UTC) and 00:00(UTC) * Steps: * Schiphol: Retrieve events * AHS: Call `Turnaround AHS API` service using the Last Retrieval Date #### - Data Handling Operation * Schiphol: * `inBoundFlightId` and `inBoundUdorLocal` are retrieved from the RiverX Flight Leg Data Model using the values mapped according to the following conditions(see Mapping for details); * `inBoundUdor` = Flight Leg Data Model `udor` * `inBoundCarrier` = Flight Leg Data Model `carrier` * `inBoundFlightNumber` = Flight Leg Data Model `flightNumber` * `regId` = Flight Leg Data Model `acRegNo` * Flight Leg Data Model `statusCode` <> “CNL“ and “DEL“ * `outBoundFlightId` and `outBoundUdorLocal` are retrieved from the RiverX Flight Leg Data Model using the values mapped according to the following conditions(see Mapping for details); * `outBoundUdor` = Flight Leg Data Model `udor` * `outBoundCarrier` = Flight Leg Data Model `carrier` * `outBoundFlightNumber` = Flight Leg Data Model `flightNumber` * `regId` = Flight Leg Data Model `acRegNo` * Flight Leg Data Model `statusCode` <> “CNL“ and “DEL“ * For both inBound and outBound flights, when there are multiple records corresponding to these conditions, any one of those records is selected. *","fm:title":"Ground Handling Data Models description: published: true date: 2025-10-01T10:09:32.571Z tags: editor: markdown dateCreated: 2024-09-05T12:40:04.853Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=0|o=0","length":"2000","offset":"0","repo_branch":"main","repo_path":"river-x/source-mapping/ground-handling-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
