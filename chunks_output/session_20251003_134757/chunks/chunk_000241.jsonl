{"chunk_index":"20","content":";&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |Data Handling Operation| |regId|`###-std.xml`|`<FlightPlan>.<M633SupplementaryHeader>.<Aircraft aircraftRegistration=\"###\" >`| | |ataReference|`###-std.xml`|`<FlightPlan>.<FlightPlanHeader>.<MELCDLItems>.<MELCDLItem>.<ReferenceId>###</ReferenceId>`| | |description|`###-std.xml`|`<FlightPlan>.<FlightPlanHeader>.<MELCDLItems>.<MELCDLItem>.<Title>###</Title>`| | |status| | |When the record is present in old OFP versions but not in the new OFP version then set to \"CANCELLED\" else set to \"ACTIVE\".| # Flight Plan Trip Info Data Model ### Data Retrieval #### - Data Retrieval Scope * Retrieve records for flights meeting the following conditions(From 1 hour before the departure time, to the departure time)); * `schedops.LEG.dep_DT` - 1 hours <= Current Date(UTC) <= `schedops.LEG.dep_DT` and * `schedops.LEG.WHAT_IF` = “_” and * `schedops.LEG.LEG_TYPE` = (“C“ or “J“) and * `schedops.LEG.LEG_STATE` <> (“CNL“ or “DEL“ or “INC“) #### - Source Service * `tripInfo` * URL: `https://api-prod.sunexpress.com/ws/rest/igo/getTripInfo?legNo=${FlightLegId}` #### - Source Query * `Riverx_FlightLegForTripInfo_Query`, `Riverx_TripInfoSXSEFF_Query`(Query generated by SXS) #### - Data Retrieval Trigger & Steps **Trigger:** Every 5 minutes **Steps:** * Execute `Riverx_FlightLegForTripInfo_Query` query. * Call `tripInfo` service using the `schedops.LEG.LEG_NO` coming from `Riverx_FlightLegForTripInfo_Query` query result. * Execute the `Riverx_TripInfoSXSEFF_Query` for the flight legs that can be retrieved via `tripInfo` service, using the `schedops.LEG.DAY_OF_ORIGIN`, `schedops.LEG.FN_CARRIER`, `schedops.LEG.FN_NUMBER`, `schedops.LEG.DEP_AP_ACTUAL` and `schedops.LEG.ARR_AP_ACTUAL` values from the `Riverx_FlightLegForTripInfo_Query` result. #### - Change Data Capture Operation * Unique Key: `id` * Insert and update operations are carried out using Unique Key. * No delete operation is performed, as the sou","fm:title":"Flight Plan Data Models description: published: true date: 2025-08-15T06:44:24.765Z tags: editor: markdown dateCreated: 2024-09-05T12:25:49.095Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=20|o=36000","length":"2000","offset":"36000","repo_branch":"main","repo_path":"river-x/source-mapping/flight-plan-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
