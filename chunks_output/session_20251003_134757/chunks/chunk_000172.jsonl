{"chunk_index":"8","content":"sterId` is retrieved from Crew Roster using `XCREW.MLOG$_DUTY.BEGIN_DATE` field. #### - Change Data Capture Operation * Unique Key: A composite key, combining `XCREW.MLOG$_DUTY.TLC`, `XCREW.MLOG$_DUTY.BEGIN_DATE` and `XCREW.MLOG$_DUTY.BEGIN_TIME` fields. * Insert and update operations are carried out using Unique Key. * No delete operation is performed; instead, `status`(see Mapping for details) is updated based on the retrieved data. ### Mapping |Model Attribute|Source Table|Source Field|Detail| |:----|:----|:----|:----| |extraInfo| | | | |rosterId| | |Data Handling Operation| |tripId|`XCREW.MLOG$_DUTY`|`CHAIN_DAILY_UNO`| | |dutyId|`XCREW.MLOG$_DUTY`|`CHAIN_DAILY_UNO`| | |crewId|`XCREW.MLOG$_DUTY`|`TLC`| | |startDate|`XCREW.MLOG$_DUTY`|`BEGIN_DATE`, `BEGIN_TIME`|`BEGIN_DATE` + `BEGIN_TIME`| |endDate|`XCREW.MLOG$_DUTY`|`END_DATE`, `END_TIME`|`END_DATE` + `END_TIME`| |trainingStartDate|`XCREW.MLOG$_DUTY d`, `xcrew.CHAIN_ITEM_DAILY cid`, `xcrew.ITEM_DAILY id`|`d.CHAIN_DAILY_UNO`, `cid.CHAIN_DAILY_UNO`, `cid.ITEM_DAILY_UNO`, `id.UNO`, `id.CODE`, `id.DEPARTURE_DATE_SCD`, `id.DEPARTURE_TIME_SCD`|when `d.CHAIN_DAILY_UNO` = `cid.CHAIN_DAILY_UNO` and `cid.ITEM_DAILY_UNO `= `id.UNO` and `id.CODE` <> “E_FDP“ then min(`id.DEPARTURE_DATE_SCD` + `id.DEPARTURE_TIME_SCD`)| |trainingEndDate|`XCREW.MLOG$_DUTY d`, `xcrew.CHAIN_ITEM_DAILY cid`, `xcrew.ITEM_DAILY id`|`d.CHAIN_DAILY_UNO`, `cid.CHAIN_DAILY_UNO`, `cid.ITEM_DAILY_UNO`, `id.UNO`, `id.CODE`, `id.ARRIVAL_DATE_SCD`, `id.ARRIVAL_TIME_SCD`|when `d.CHAIN_DAILY_UNO` = `cid.CHAIN_DAILY_UNO` and `cid.ITEM_DAILY_UNO `= `id.UNO` and `id.CODE` <> “E_FDP“ then max(`id.ARRIVAL_DATE_SCD` + `id.ARRIVAL_TIME_SCD`)| |trainingPosition|`XCREW.MLOG$_DUTY`|`IS_TRAINER`|when `XCREW.MLOG$_DUTY.IS_TRAINER` = “Y“ then “Trainer“ else “Trainee“| |status|`XCREW.MLOG$_DUTY`|`DMLTYPE$$`|when `XCREW.MLOG$_DUTY.DMLTYPE$$` = “D“<br>then “CANCELLED“ else “ACTIVE“| |totalBlockTime|`xcrew.DAILY_ACCOUNT da`, `XCREW.MLOG$_DUTY d`|`da.FLIGHT_TIME`, `da.TLC`, `da.","fm:title":"Crew Data Models description: published: true date: 2025-10-01T18:21:12.714Z tags: editor: markdown dateCreated: 2024-09-05T12:23:15.052Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=8|o=14400","length":"2000","offset":"14400","repo_branch":"main","repo_path":"river-x/source-mapping/crew-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
