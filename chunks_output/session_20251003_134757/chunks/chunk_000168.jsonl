{"chunk_index":"4","content":"Every day at 01:00 (UTC) **Steps:** * Execute `Riverx_MLOG$_DUTY_CLEANER` query. * Execute `Riverx_MLOG$_HOTEL_RESERVATION_CLEANER` query. * Execute `Riverx_MLOG$_NOTIFICATION_CLEANER` query. * Execute `Riverx_MLOG$_NOTIF_ITEM_CLEANER` query. * Execute `Riverx_MLOG$_CHANGE_OF_DUTY_CLEANER` query. * Execute `Riverx_MLOG$_REMARK_CLEANER` query. #### - Data Handling Operation * Delete records from MLOG tables. # Crew Roster Data Model ### Data Retrieval #### - Data Retrieval Scope **Crew Roster:** :paperclip: Duty MLOG Data Retrieval **Roster:** * **Generating Roster:** Generate roster records for the months between month of Current Date Time(UTC) + 2 months and month of Current Date Time(UTC) + 15 months. * **Publishing Roster:** Retrieve records when there is a change in `XCREW.PERIOD.ACTIVE_END_DATE`. #### - Source Query **Crew Roster:** :paperclip: Duty MLOG Data Retrieval **Roster:** * **Generating Roster:** `Riverx_Roster_15_Months_Query` * **Publishing Roster:** `Riverx_Roster_Query` #### - Data Retrieval Trigger & Steps **Trigger:** * **Crew Roster:** :paperclip: Duty MLOG Data Retrieval * **Roster:** * **Generating Roster:** First day of every month at 00:00 (UTC) * **Publishing Roster:** Every 6 hours **Steps:** * **Crew Roster:** Execute :paperclip: Duty MLOG Data Retrieval query. * **Roster:** * **Generating Roster:** Execute `Riverx_Roster_15_Months_Query` query. * **Publishing Roster:** Execute `Riverx_Roster_Query` query. #### - Data Handling Operation * **Crew Roster:** `rosterId` is retrieved from Crew Roster using `XCREW.MLOG$_DUTY.BEGIN_DATE` field. * **Roster:** `rosterId` is retrieved from Crew Roster using 15th day of the generated Roster month. #### - Change Data Capture Operation **Crew Roster:** * Unique Key: A composite key combining `XCREW.MLOG$_DUTY.TLC` and `rosterId`(see Mapping for details) fields. * Insert operation is carried out using Unique Key. * No delete or update operations are performed, as the source system does not delete or up","fm:title":"Crew Data Models description: published: true date: 2025-10-01T18:21:12.714Z tags: editor: markdown dateCreated: 2024-09-05T12:23:15.052Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=4|o=7200","length":"2000","offset":"7200","repo_branch":"main","repo_path":"river-x/source-mapping/crew-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
