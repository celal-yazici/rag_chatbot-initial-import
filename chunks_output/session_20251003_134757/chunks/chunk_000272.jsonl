{"chunk_index":"16","content":"Order>.<Status>.<StatusCode>` = “OK“ then “ACTIVE“, else “CANCELLED“ * The `flightId` is assigned to Flight Pax SSR records through the `<FlightSegmentList>` element. * SSR details are assigned to Flight Pax SSR records through the `<ServiceDefinitionList>` element. * When the `<ServiceBundle>` element exists and is not null within the associated `<OrderViewRS>.<Response>.<DataLists>.<ServiceDefinitionList>.<ServiceDefinition>` element, new separate Flight Pax SSR records are created based on the existing Flight Pax SSR record. * Events are generated for the all of the Flight Pax SSR records and published to `com.riverx.topic.in.ground.flightpaxssr topic`. * The Flight Pax SSR records generated through the `pnrretrieve` event are compared with the existing Flight Pax SSR records in the RiverX Flight Pax SSR Data Model. The `ssrStatus` attributes of the records found in the RiverX Flight Pax SSR Data Model but not in the generated Flight Pax SSR are set to \"CANCELLED\". #### - Change Data Capture Operation * Unique Key: A composite key combining `pnr`, `pnrCreationDate`, `paxReferenceId`, `segmentReferenceId` and `ssrReferenceId` fields. * Insert and update operations are carried out using Unique Key. * No delete operation is performed; instead, `ssrStatus`(see Mapping for details) is updated based on the retrieved data. ### Mapping |Model Attribute|Source Topic|Source Field|Detail| |:--------------|:-----------|:-----------|:----| |extraInfo| | | | |pnr|`pnrretrieve`|`<OrderViewRS>.<Response>.<Order OrderID=\"###\"...>`| | |pnrCreationDate|`pnrretrieve`|`pnrCreationDate`| | |paxReferenceId|`pnrretrieve`|**Non-Seat SSRs:** <br>`<OrderViewRS>.<Response>.<Order>.<OrderItems>.<Service>.<PassengerRef>`<br>**Seat SSRs:** <br>`<OrderViewRS>.<Response>.<Order>.<OrderItems>.<Service>.<PassengerRef>`| | |segmentReferenceId|`pnrretrieve`|**Non-Seat SSRs:** <br>`<OrderViewRS>.<Response>.<Order>.<OrderItems>.<Service>.<ServiceDefinitionRef SegmentRef=\"###\">`<br>**Seat SSRs:** <br>`","fm:title":"Passenger Data Models description: published: true date: 2025-05-09T09:26:22.878Z tags: editor: markdown dateCreated: 2024-09-05T12:35:07.136Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=16|o=28800","length":"2000","offset":"28800","repo_branch":"main","repo_path":"river-x/source-mapping/passenger-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
