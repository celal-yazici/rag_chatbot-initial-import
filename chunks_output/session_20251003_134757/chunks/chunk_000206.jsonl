{"chunk_index":"2","content":" When the eventType is one of the following: * “\"sector - sector fuel_order\"” * Then processes the retrieved data as Flight Bag Fuel. - The flightId is retrieved from the RiverX Flight Leg Data Model according to the following conditions * First two characters of `flight.number` = Flight Leg Data Model `carrier` - From the third character of the `flight.number` = Flight Leg Data Model `flightNumber` - `flight.registration`= Flight Leg Data Model `acRegNo` - Flight Leg Data Model `scheduledTakeOffTime` - 3 hour <= `flight.std` <= Flight Leg Data Model `scheduledTakeOffTime` + 3 hour - Flight Leg Data Model `statusCode` <> “CNL“ and “DEL“ - When there are multiple records corresponding to these conditions, any one of those records is selected. * Based on the retrieved data, generates an \"IN\" event according to the mapping rules(see Mapping for details). * Publishes the generated \"IN\" event to the topic: `com.riverx.topic.in.flight.flightbagfuel`. #### - Change Data Capture Operation * Consumes the events from the `com.riverx.topic.in.flight.flightbagfuel` topic. * Unique Key: `flightId`. * Insert: If no record exists in the Flight Bag fuel Data Model with the matching `flightId`, inserts a new record. * Update: Founds the existing record in the Flight Bag Fuel Data Model with the matching `flightId` and updates the record. * Delete: No delete operation is performed, as the source system does not delete Flight Bag Fuel records. ### Mapping |Model Attribute|Source Service|Source Field|Detail| |:----|:----|:----|:----|:----| |flightId|`RiverXEFBNodeSkybookEvent` |`flight.number`, `flight.registration`, `flight.std` | Data Handling Operation | |sectorId|`RiverXEFBNodeSkybookEvent` |`fileData.data.sectorId`| | |efbCaptainUsername|`RiverXEFBNodeSkybookEvent` |`fileData.data.userName` | | |eventType|`RiverXEFBNodeSkybookEvent`|`fileData.data.eventType`|| |cycleId|`RiverXEFBNodeSkybookEvent`|`fileData.data.voyageId`| | |eventDate|`RiverXEFBNodeSkybookEvent`|`fileData.data.tim","fm:title":"Electronic Flight Bag Data Models description: published: true date: 2025-09-19T16:08:36.339Z tags: editor: markdown dateCreated: 2025-07-25T10:29:10.471Z","id":"gitlab://https://gitlab.com/avsos-wiki/riverx@main|sec=main|i=2|o=3600","length":"2000","offset":"3600","repo_branch":"main","repo_path":"river-x/source-mapping/electronic-flight-bag-data-models.md","source":"gitlab://https://gitlab.com/avsos-wiki/riverx@main"}
